<div class="container">
    <div class="checklist-container">
        <!-- <div class="checklist-logo">
            <div class="logo-icon">D</div>
            <div class="logo-text">Document AI</div>
        </div> -->

        <h1 class="checklist-title">Invoice check list</h1>
        <div class="checklist-subtitle">Invoice validation and processing system</div>

        <div class="checklist-stats">
            <div class="stat-item success">
                <div class="stat-value">{{yesMatchCount}}</div>
                <div class="stat-label">Validations Passed</div>
            </div>
            <div class="stat-item error">
                <div class="stat-value">{{noMatchCount}}</div>
                <div class="stat-label">Issues Detected</div>
            </div>
            <div class="stat-item pending">
                <div class="stat-value">95%</div>
                <div class="stat-label">Overall Accuracy</div>
            </div>
        </div>

        <div class="checklist-image">
            <!-- <div class="processing-indicator">
                <div class="processing-dot"></div>
                Processing Document
            </div> -->
            <img [src]="image_orginal_image" alt="Original Image" class="image">

        </div>

        <div class="status-bar">
            <div class="status-left">
                <div class="status-item">
                    <div class="status-dot success" ></div>
                    <div class="status-text">10 Passed</div>
                </div>
                <div class="status-item">
                    <div class="status-dot error"></div>
                    <div class="status-text">0 Failed</div>
                </div>
            </div>

        </div>
    </div>
<!-- {{get_invoice_checklist_data | json}} -->
    <div class="ideas-container">
        <div class="idea-card success">
            <div class="idea-header">
                <div class="check-icon">✓</div>
                <div class="idea-title"><strong>1</strong> Duplicate Invoice </div>
                <!-- <span class="confidence-tag">95%</span> -->
            </div>
            <!-- <div class="idea-note">
                <span class="underlined-text">No duplicate invoices detected in the system.</span> The document has been verified against existing records in database.
            </div> -->
        </div>
<!-- {{get_invoice_checklist_data.invoice_no_duplicate}} -->
        <div class="idea-card" [ngClass]="{
                      'success': get_invoice_checklist_data?.invoice_no_duplicate == 'yes','error': get_invoice_checklist_data?.invoice_no_duplicate == 'no'}">
            <div class="idea-header">
              <div class="check-icon" *ngIf="get_invoice_checklist_data?.invoice_no_duplicate == 'yes'">✓</div>
              <div class="cross-icon" *ngIf="get_invoice_checklist_data?.invoice_no_duplicate == 'no'">✕</div>
                <div class="idea-title"><strong>2</strong> Duplicate Invoice No</div>
                <!-- <span class="confidence-tag">98%</span> -->
            </div>
            <!-- <div class="idea-note">
                <span class="underlined-text">Invoice numbers are consistent throughout the document.</span> Format validation complete.
            </div> -->
        </div>
<!-- {{get_invoice_checklist_data.invoice_po_date_check}} -->
        <div class="idea-card" [ngClass]="{
          'success': get_invoice_checklist_data.invoice_po_date_check === 'no match','error': get_invoice_checklist_data.invoice_po_date_check === 'match'}">
<div class="idea-header">
              <!-- <div class="check-icon" >✓</div> -->
              <div class="check-icon" *ngIf="get_invoice_checklist_data.invoice_po_date_check == 'no match'">✓</div>
              <div class="cross-icon" *ngIf="get_invoice_checklist_data.invoice_no_duplicate == 'match'">✕</div>
                <div class="idea-title"><strong>3</strong> Inv Dt < PO Dt</div>
                <!-- <span class="confidence-tag">97%</span> -->
            </div>
            <!-- <div class="idea-note">
                <span class="underlined-text">Invoice date is after the purchase order date.</span> Timeline validation successful.
            </div> -->
        </div>

        <div class="idea-card" [ngClass]="{
                      'success': get_invoice_checklist_data.invoice_no_duplicate === 'yes','error': get_invoice_checklist_data.invoice_no_duplicate === 'no'}">
            <div class="idea-header">
              <div class="check-icon" *ngIf="get_invoice_checklist_data.invoice_no_duplicate == 'yes'">✓</div>
              <div class="cross-icon" *ngIf="get_invoice_checklist_data.invoice_no_duplicate == 'no'">✕</div>
                <div class="idea-title"><strong>4</strong> Address</div>
                <!-- <span class="confidence-tag">94%</span> -->
            </div>
            <!-- <div class="idea-note">
                <span class="underlined-text">Address information matches with vendor records.</span> Geographic validation passed.
            </div> -->
        </div>
<!-- {{get_invoice_checklist_data.vendorname_check > "70%"}} -->

        <!-- <div class="idea-card" [ngClass]="{
          'success': get_invoice_checklist_data.vendorname_check > '70%',
          'error': get_invoice_checklist_data.vendorname_check <= '70%'
        }">
          <div class="idea-header">
            <div class="check-icon" *ngIf="get_invoice_checklist_data.vendorname_check > '70%'">✓</div>
            <div class="cross-icon" *ngIf="get_invoice_checklist_data.vendorname_check <= '70%'">✕</div>
            <div class="idea-title"><strong>5</strong> Vendor Name</div>
          </div>
          <div class="idea-note">
            <span class="underlined-text">Vendor name correctly identified and validated.</span> Entity recognition successful.
          </div>
        </div> -->
        <div class="idea-card"
     [ngClass]="{
        'success': vendorMatchPercentage > 70,
        'error': vendorMatchPercentage <= 70
     }">
  <div class="idea-header">
    <div class="check-icon" *ngIf="vendorMatchPercentage > 70">✓</div>
    <div class="cross-icon" *ngIf="vendorMatchPercentage <= 70">✕</div>
    <div class="idea-title"><strong>5</strong> Vendor Name</div>
  </div>
  <!-- <div class="idea-note">
    <span class="underlined-text">Vendor name correctly identified and validated.</span> Entity recognition successful.
  </div> -->
</div>

        <div class="idea-card" 
     [ngClass]="{
        'success': get_invoice_checklist_data.gstin_invoice_master_check == 'yes' && get_invoice_checklist_data.supplier_gstin_check != 'no match',
        'error': get_invoice_checklist_data.gstin_invoice_master_check != 'yes' || get_invoice_checklist_data.supplier_gstin_check == 'no match'
     }">

  <div class="idea-header">
    <!-- Show success/failure icon -->
    <div class="check-icon" *ngIf="get_invoice_checklist_data.gstin_invoice_master_check == 'yes' && get_invoice_checklist_data.supplier_gstin_check != 'no match'">✓</div>
    <div class="cross-icon" *ngIf="get_invoice_checklist_data.gstin_invoice_master_check != 'yes' || get_invoice_checklist_data.supplier_gstin_check == 'no match'">✕</div>

    <div class="idea-title">
      <strong>Vendor & Supplier GSTIN Validation</strong>
    </div>
  </div>

  <!-- ✅ Comments Section -->
  <div class="idea-note">
    <div *ngIf="get_invoice_checklist_data.gstin_invoice_master_check == 'yes'">
      ✅ Vendor Master GSTIN matched with Invoice Supplier GSTIN.
    </div>
    <div *ngIf="get_invoice_checklist_data.gstin_invoice_master_check != 'yes'">
      ❌ Vendor Master GSTIN did not match Invoice Supplier GSTIN.
    </div>

    <div *ngIf="get_invoice_checklist_data.supplier_gstin_check != 'no match'">
      ✅ Supplier GSTIN matched with PO Supplier GSTIN.
    </div>
    <div *ngIf="get_invoice_checklist_data.supplier_gstin_check == 'no match'">
      ❌ Supplier GSTIN did not match PO Supplier GSTIN.
    </div>
  </div>

</div>

        <div class="idea-card" [ngClass]="{
                      'success': get_invoice_checklist_data.buyer_gstin_check != 'no match','error': get_invoice_checklist_data.buyer_gstin_check == 'no match'}">
            <div class="idea-header">
              <div class="check-icon" *ngIf="get_invoice_checklist_data.buyer_gstin_check != 'no match'">✓</div>
              <div class="cross-icon" *ngIf="get_invoice_checklist_data.buyer_gstin_check == 'no match'">✕</div>
                <div class="idea-title"><strong>7</strong> Bill to GSTIN</div>
                <!-- <span class="confidence-tag">97%</span> -->
            </div>
            <!-- <div class="idea-note">
                <span class="underlined-text">Buyer GSTIN correctly identified and verified.</span> Internal records match with document.
            </div> -->
        </div>

        <div class="idea-card" [ngClass]="{
                      'success': get_invoice_checklist_data.suplier_pan_check != 'yes','error': get_invoice_checklist_data.suplier_pan_check == 'no'}">
            <div class="idea-header">
              <div class="check-icon" *ngIf="get_invoice_checklist_data.suplier_pan_check == 'yes'">✓</div>
              <div class="cross-icon" *ngIf="get_invoice_checklist_data.suplier_pan_check == 'no'">✕</div>
                <div class="idea-title"><strong>8</strong> Supplier PAN</div>
                <!-- <span class="confidence-tag">95%</span> -->
            </div>
            <!-- <div class="idea-note">
                <span class="underlined-text">Supplier PAN number validated successfully.</span> Format and check digit verification passed.
            </div> -->
        </div>

        <!-- <div class="idea-card" [ngClass]="{
                      'success': get_invoice_checklist_data.supplier_gstin_pan_check != 'no match','error': get_invoice_checklist_data.supplier_gstin_pan_check == 'no match'}">
            <div class="idea-header">
              <div class="check-icon" *ngIf="get_invoice_checklist_data.supplier_gstin_pan_check != 'no match'">✓</div>
              <div class="cross-icon" *ngIf="get_invoice_checklist_data.supplier_gstin_pan_check == 'no match'">✕</div>
                <div class="idea-title"><strong>9</strong> GSTIN = PAN</div>
                <span class="confidence-tag">94%</span>
            </div>
            <div class="idea-note">
                <span class="underlined-text">GSTIN and PAN number consistency confirmed.</span> First 10 digits of GSTIN match with PAN.
            </div>
        </div> -->

        <!-- <div class="idea-card" [ngClass]="{
                      'success': get_invoice_checklist_data.invoice_total_check != 'no match','error': get_invoice_checklist_data.invoice_total_check == 'no match'}">
            <div class="idea-header">
              <div class="check-icon" *ngIf="get_invoice_checklist_data.invoice_total_check != 'no match'">✓</div>
              <div class="cross-icon" *ngIf="get_invoice_checklist_data.invoice_total_check == 'no match'">✕</div>
                <div class="idea-title"><strong>9x`</strong> Inv Sum Value = Total Inv Value (OCR)</div>
            </div>
            <div class="idea-note">
                <span class="underlined-text">Mismatch detected between line item sum and total invoice value.</span> Manual review recommended.
            </div>
        </div> -->
        


       

        <div class="idea-card success">
          <div class="idea-header">
              <div class="check-icon">✓</div>
              <div class="idea-title"><strong>9</strong> Inv Sum Value = Total Inv Value (OCR)</div>
              <!-- <span class="confidence-tag">82%</span> -->
          </div>
          <!-- <div class="idea-note">
              <span class="underlined-text">Mismatch detected between line item sum and total invoice value.</span> Manual review recommended.
          </div> -->
      </div>
      <div class="idea-card success">
          <div class="idea-header">
              <div class="check-icon">✓</div>
              <div class="idea-title"><strong>9</strong> MSME</div>
              <!-- <span class="confidence-tag">82%</span> -->
          </div>
          <div class="idea-note">
              <span>MSME NO : <b>{{msme}}</b></span>
          </div>
      </div>
    </div>
</div>
